<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dallas County — 2026 Democratic Primary Results</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@400;500;600;700;800;900&family=Source+Serif+4:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#ffffff;--surface:#f6f7f8;--border:#dfe1e5;--border-light:#eceef1;
  --txt:#1a1a1a;--txt2:#555;--txt3:#888;
  --crockett:#c45a20;--crockett-bg:#fdf0e8;--crockett-bar:#d4712e;
  --talarico:#1a7a5c;--talarico-bg:#e6f5f0;--talarico-bar:#239e76;
}
html{font-size:15px}
body{font-family:'Libre Franklin',sans-serif;background:var(--bg);color:var(--txt);line-height:1.5}
.topbar{background:#1a1a1a;color:#fff;padding:6px 24px;font-size:11px;letter-spacing:.5px;text-transform:uppercase;font-weight:600}
.topbar span{color:#aaa;font-weight:400}
.header{max-width:1100px;margin:0 auto;padding:28px 24px 0}
.header .kicker{font-size:12px;text-transform:uppercase;letter-spacing:1.5px;font-weight:700;color:var(--crockett);margin-bottom:6px}
.header h1{font-family:'Source Serif 4',Georgia,serif;font-size:32px;font-weight:600;line-height:1.2;margin-bottom:6px}
.header .dek{font-size:15px;color:var(--txt2);max-width:680px;line-height:1.5;margin-bottom:4px}
.header .timestamp{font-size:12px;color:var(--txt3);margin-bottom:20px}
.results-banner{max-width:1100px;margin:0 auto;padding:0 24px}
.rb-inner{border:1px solid var(--border);border-radius:8px;overflow:hidden}
.rb-header{display:flex;justify-content:space-between;align-items:center;padding:14px 20px;border-bottom:1px solid var(--border-light);background:var(--surface)}
.rb-header h2{font-size:14px;font-weight:700;text-transform:uppercase;letter-spacing:.5px}
.rb-header .reporting{font-size:12px;color:var(--txt3)}
.rb-header .reporting b{color:var(--txt)}
.cand-row{display:flex;align-items:center;padding:14px 20px;border-bottom:1px solid var(--border-light)}
.cand-row:last-child{border-bottom:none}
.cand-row.winner{background:var(--crockett-bg)}
.cand-check{width:24px;flex-shrink:0;font-size:16px}
.cand-info{flex:1;min-width:0}
.cand-name{font-size:16px;font-weight:700}
.cand-bar-wrap{flex:0 0 360px;margin:0 24px}
.cand-bar{height:22px;border-radius:3px;transition:width .6s ease}
.cand-nums{flex:0 0 140px;text-align:right}
.cand-pct{font-size:22px;font-weight:800}
.cand-votes{font-size:12px;color:var(--txt3)}
.total-bar{display:flex;height:8px;margin:0}
.total-bar .seg-c{background:var(--crockett-bar);transition:width .6s}
.total-bar .seg-t{background:var(--talarico-bar);transition:width .6s}
.main{max-width:1100px;margin:24px auto;padding:0 24px;display:flex;gap:24px}
.col-map{flex:1;min-width:0}
.col-table{flex:0 0 440px}
#map{height:480px;border:1px solid var(--border);border-radius:8px;overflow:hidden}
.tbl-wrap{border:1px solid var(--border);border-radius:8px;overflow:hidden}
.tbl-head{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--surface);border-bottom:1px solid var(--border)}
.tbl-head h3{font-size:13px;font-weight:700;text-transform:uppercase;letter-spacing:.3px}
.search{padding:6px 10px;border:1px solid var(--border);border-radius:5px;font-size:12px;font-family:inherit;outline:none;width:180px}
.search:focus{border-color:var(--talarico)}
.tbl-scroll{max-height:410px;overflow-y:auto}
.tbl-scroll::-webkit-scrollbar{width:4px}
.tbl-scroll::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}
table{width:100%;border-collapse:collapse;font-size:12px}
thead{position:sticky;top:0;z-index:5}
th{padding:8px 10px;text-align:left;font-weight:700;font-size:10px;text-transform:uppercase;letter-spacing:.6px;color:var(--txt3);background:var(--surface);border-bottom:1px solid var(--border);cursor:pointer;white-space:nowrap;user-select:none}
th:hover{color:var(--txt)}
th.sa::after{content:' ▲';font-size:7px}
th.sd::after{content:' ▼';font-size:7px}
tbody tr{border-bottom:1px solid var(--border-light);cursor:pointer;transition:background .1s}
tbody tr:hover{background:#f0f7f4}
tbody tr.active{background:#e6f5f0}
td{padding:7px 10px;white-space:nowrap}
.loc-name{max-width:135px;overflow:hidden;text-overflow:ellipsis;font-weight:500}
.num{font-variant-numeric:tabular-nums;font-weight:600}
.c-num{color:var(--crockett)}
.t-num{color:var(--talarico)}
.mini-bar{width:90px}
.mb-wrap{display:flex;height:10px;border-radius:2px;overflow:hidden;background:#eee}
.mb-c{background:var(--crockett-bar)}
.mb-t{background:var(--talarico-bar)}
.lead{font-weight:700;font-size:11px}
.footer{max-width:1100px;margin:16px auto 40px;padding:0 24px;font-size:11px;color:var(--txt3);line-height:1.6}
.footer strong{color:var(--txt2)}
.custom-tooltip{
  background:#fff!important;border:1px solid #dfe1e5!important;border-radius:6px!important;
  padding:10px 14px!important;font-family:'Libre Franklin',sans-serif!important;
  color:#1a1a1a!important;font-size:12px!important;
  box-shadow:0 4px 16px rgba(0,0,0,.1)!important;min-width:210px!important;
}
.tt-name{font-weight:700;font-size:13px;margin-bottom:1px}
.tt-pct{font-size:10px;color:#888;margin-bottom:6px}
.tt-row{display:flex;justify-content:space-between;gap:14px;margin:2px 0}
.tt-bar{height:6px;border-radius:2px;margin:5px 0;display:flex;overflow:hidden;background:#eee}
.tt-bar-c{background:#d4712e}
.tt-bar-t{background:#239e76}
.tt-demo{margin-top:5px;padding-top:5px;border-top:1px solid #eceef1;font-size:10px;color:#888}
.map-legend{
  position:absolute;bottom:12px;left:12px;z-index:800;
  background:rgba(255,255,255,.95);border:1px solid #dfe1e5;border-radius:6px;
  padding:10px 14px;font-size:10px;color:#888;
}
.map-legend h4{font-size:11px;color:#1a1a1a;margin-bottom:4px;font-weight:700}
.lg-row{display:flex;align-items:center;gap:6px;margin:3px 0}
.lg-circ{border-radius:50%;flex-shrink:0}
@media(max-width:860px){
  .main{flex-direction:column}
  .col-table{flex:none;width:100%}
  .cand-bar-wrap{flex:0 0 180px}
}
</style>
</head>
<body>

<div class="topbar">Dallas County Elections <span>· 2026 Primary · Early Voting</span></div>

<div class="header">
  <div class="kicker">Democratic Primary</div>
  <h1>U.S. Senate — Dallas County</h1>
  <div class="dek">Modeled early voting results using precinct racial demographics and group voting patterns.</div>
  <div class="timestamp">Early voting through Feb. 18, 2026 · 25,681 Democratic ballots cast</div>
</div>

<div class="results-banner">
  <div class="rb-inner">
    <div class="rb-header">
      <h2>Democratic Primary</h2>
      <div class="reporting">Early vote: <b>25,681</b> of <b>34,114</b> total ballots</div>
    </div>
    <div class="total-bar">
      <div class="seg-c" style="width:50.5%"></div>
      <div class="seg-t" style="width:49.5%"></div>
    </div>
    <div class="cand-row winner">
      <div class="cand-check">✓</div>
      <div class="cand-info">
        <div class="cand-name">Cristina Tzintzún Ramirez Crockett</div>
      </div>
      <div class="cand-bar-wrap"><div class="cand-bar" style="width:50.5%;background:var(--crockett-bar)"></div></div>
      <div class="cand-nums">
        <div class="cand-pct" style="color:var(--crockett)">50.5%</div>
        <div class="cand-votes">12,961 votes</div>
      </div>
    </div>
    <div class="cand-row">
      <div class="cand-check"></div>
      <div class="cand-info">
        <div class="cand-name">James Talarico</div>
      </div>
      <div class="cand-bar-wrap"><div class="cand-bar" style="width:49.5%;background:var(--talarico-bar)"></div></div>
      <div class="cand-nums">
        <div class="cand-pct" style="color:var(--talarico)">49.5%</div>
        <div class="cand-votes">12,720 votes</div>
      </div>
    </div>
  </div>
</div>

<div class="main">
  <div class="col-map">
    <div id="map"></div>
  </div>
  <div class="col-table">
    <div class="tbl-wrap">
      <div class="tbl-head">
        <h3>Results by Vote Center</h3>
        <input type="text" class="search" placeholder="Search locations…" id="sbox">
      </div>
      <div class="tbl-scroll">
        <table>
          <thead><tr>
            <th data-col="name">Location</th>
            <th data-col="crockett">Crockett</th>
            <th data-col="talarico">Talarico</th>
            <th data-col="margin">Lead</th>
            <th data-col="bar">Split</th>
          </tr></thead>
          <tbody id="tb"></tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="footer">
  <strong>Model assumptions:</strong> Black voters 80% Crockett / 20% Talarico · White voters 35% Crockett / 65% Talarico · Hispanic voters 35% Crockett / 65% Talarico · Asian voters 25% Crockett / 75% Talarico. Precinct demographics approximated from 2020 Census tract-level data. Dallas County uses countywide vote centers — totals reflect where people voted, not where they reside. <em>This is a demographic model, not certified results.</em>
</div>

<script>
var DATA = [{"precinct": "3106", "name": "A E Sims Cedar Hill Rec Center", "dem_total": 798, "rep_total": 147, "lat": 32.588, "lon": -96.953, "pct_black": 0.55, "pct_white": 0.2, "pct_hispanic": 0.18, "pct_asian": 0.02, "crockett_share": 0.603, "talarico_share": 0.397, "crockett_votes": 481, "talarico_votes": 317}, {"precinct": "3408", "name": "Balch Springs Recreation Center", "dem_total": 266, "rep_total": 39, "lat": 32.719, "lon": -96.625, "pct_black": 0.35, "pct_white": 0.1, "pct_hispanic": 0.5, "pct_asian": 0.02, "crockett_share": 0.51, "talarico_share": 0.49, "crockett_votes": 136, "talarico_votes": 130}, {"precinct": "3605", "name": "Disciple Central Comm Church", "dem_total": 1637, "rep_total": 76, "lat": 32.667, "lon": -96.805, "pct_black": 0.8, "pct_white": 0.03, "pct_hispanic": 0.14, "pct_asian": 0.01, "crockett_share": 0.712, "talarico_share": 0.288, "crockett_votes": 1166, "talarico_votes": 471}, {"precinct": "3064", "name": "Friendship West Baptist Church", "dem_total": 981, "rep_total": 10, "lat": 32.63, "lon": -96.853, "pct_black": 0.85, "pct_white": 0.03, "pct_hispanic": 0.08, "pct_asian": 0.01, "crockett_share": 0.736, "talarico_share": 0.264, "crockett_votes": 722, "talarico_votes": 259}, {"precinct": "3073", "name": "Highland Hills Library", "dem_total": 331, "rep_total": 4, "lat": 32.67, "lon": -96.824, "pct_black": 0.82, "pct_white": 0.02, "pct_hispanic": 0.13, "pct_asian": 0.01, "crockett_share": 0.721, "talarico_share": 0.279, "crockett_votes": 239, "talarico_votes": 92}, {"precinct": "3043", "name": "Paul L Dunbar Library", "dem_total": 500, "rep_total": 8, "lat": 32.751, "lon": -96.811, "pct_black": 0.78, "pct_white": 0.05, "pct_hispanic": 0.13, "pct_asian": 0.01, "crockett_share": 0.705, "talarico_share": 0.295, "crockett_votes": 352, "talarico_votes": 148}, {"precinct": "0023", "name": "For Oak Cliff", "dem_total": 197, "rep_total": 2, "lat": 32.738, "lon": -96.836, "pct_black": 0.6, "pct_white": 0.04, "pct_hispanic": 0.32, "pct_asian": 0.01, "crockett_share": 0.623, "talarico_share": 0.377, "crockett_votes": 123, "talarico_votes": 74}, {"precinct": "4071", "name": "Oak Cliff Government Center", "dem_total": 491, "rep_total": 47, "lat": 32.742, "lon": -96.854, "pct_black": 0.45, "pct_white": 0.06, "pct_hispanic": 0.44, "pct_asian": 0.02, "crockett_share": 0.555, "talarico_share": 0.445, "crockett_votes": 273, "talarico_votes": 218}, {"precinct": "0025", "name": "Kiest Recreation Center", "dem_total": 261, "rep_total": 24, "lat": 32.71, "lon": -96.848, "pct_black": 0.55, "pct_white": 0.05, "pct_hispanic": 0.35, "pct_asian": 0.01, "crockett_share": 0.603, "talarico_share": 0.397, "crockett_votes": 157, "talarico_votes": 104}, {"precinct": "4064", "name": "Martin Weiss Recreation Center", "dem_total": 346, "rep_total": 43, "lat": 32.721, "lon": -96.827, "pct_black": 0.4, "pct_white": 0.08, "pct_hispanic": 0.47, "pct_asian": 0.02, "crockett_share": 0.533, "talarico_share": 0.467, "crockett_votes": 184, "talarico_votes": 162}, {"precinct": "0029", "name": "MLK Jr Branch Library", "dem_total": 464, "rep_total": 18, "lat": 32.754, "lon": -96.768, "pct_black": 0.75, "pct_white": 0.04, "pct_hispanic": 0.17, "pct_asian": 0.01, "crockett_share": 0.691, "talarico_share": 0.309, "crockett_votes": 321, "talarico_votes": 143}, {"precinct": "1088", "name": "Skyline Branch Library", "dem_total": 504, "rep_total": 43, "lat": 32.726, "lon": -96.732, "pct_black": 0.45, "pct_white": 0.05, "pct_hispanic": 0.45, "pct_asian": 0.02, "crockett_share": 0.555, "talarico_share": 0.445, "crockett_votes": 280, "talarico_votes": 224}, {"precinct": "1096", "name": "Dallas College-Pleasant Grove", "dem_total": 528, "rep_total": 44, "lat": 32.723, "lon": -96.695, "pct_black": 0.4, "pct_white": 0.06, "pct_hispanic": 0.48, "pct_asian": 0.02, "crockett_share": 0.534, "talarico_share": 0.466, "crockett_votes": 282, "talarico_votes": 246}, {"precinct": "4113", "name": "Dallas College-Mountain View", "dem_total": 159, "rep_total": 15, "lat": 32.711, "lon": -96.886, "pct_black": 0.5, "pct_white": 0.05, "pct_hispanic": 0.4, "pct_asian": 0.02, "crockett_share": 0.578, "talarico_share": 0.422, "crockett_votes": 92, "talarico_votes": 67}, {"precinct": "4029", "name": "Dallas College-West Dallas Ctr", "dem_total": 359, "rep_total": 13, "lat": 32.773, "lon": -96.864, "pct_black": 0.3, "pct_white": 0.05, "pct_hispanic": 0.6, "pct_asian": 0.02, "crockett_share": 0.487, "talarico_share": 0.512, "crockett_votes": 175, "talarico_votes": 184}, {"precinct": "0065", "name": "Frank Crowley Courts Building", "dem_total": 277, "rep_total": 21, "lat": 32.769, "lon": -96.873, "pct_black": 0.4, "pct_white": 0.08, "pct_hispanic": 0.45, "pct_asian": 0.03, "crockett_share": 0.533, "talarico_share": 0.467, "crockett_votes": 148, "talarico_votes": 129}, {"precinct": "4086", "name": "Grauwyler Park Rec Center", "dem_total": 267, "rep_total": 62, "lat": 32.803, "lon": -96.896, "pct_black": 0.25, "pct_white": 0.15, "pct_hispanic": 0.5, "pct_asian": 0.05, "crockett_share": 0.465, "talarico_share": 0.535, "crockett_votes": 124, "talarico_votes": 143}, {"precinct": "4081", "name": "Jaycee Zaragoza Rec Center", "dem_total": 39, "rep_total": 6, "lat": 32.751, "lon": -96.853, "pct_black": 0.1, "pct_white": 0.05, "pct_hispanic": 0.8, "pct_asian": 0.02, "crockett_share": 0.397, "talarico_share": 0.603, "crockett_votes": 16, "talarico_votes": 23}, {"precinct": "0062", "name": "Singing Hills Rec Center", "dem_total": 45, "rep_total": 3, "lat": 32.687, "lon": -96.76, "pct_black": 0.65, "pct_white": 0.03, "pct_hispanic": 0.28, "pct_asian": 0.01, "crockett_share": 0.646, "talarico_share": 0.354, "crockett_votes": 29, "talarico_votes": 16}, {"precinct": "0045", "name": "Oak Gardens Church", "dem_total": 153, "rep_total": 8, "lat": 32.765, "lon": -96.755, "pct_black": 0.55, "pct_white": 0.05, "pct_hispanic": 0.35, "pct_asian": 0.02, "crockett_share": 0.6, "talarico_share": 0.4, "crockett_votes": 92, "talarico_votes": 61}, {"precinct": "4050", "name": "Mountain Creek Library", "dem_total": 315, "rep_total": 45, "lat": 32.717, "lon": -96.938, "pct_black": 0.35, "pct_white": 0.12, "pct_hispanic": 0.45, "pct_asian": 0.04, "crockett_share": 0.509, "talarico_share": 0.491, "crockett_votes": 160, "talarico_votes": 155}, {"precinct": "3809", "name": "Lancaster Veterans Memorial Lib", "dem_total": 736, "rep_total": 53, "lat": 32.592, "lon": -96.756, "pct_black": 0.72, "pct_white": 0.08, "pct_hispanic": 0.15, "pct_asian": 0.02, "crockett_share": 0.676, "talarico_share": 0.324, "crockett_votes": 498, "talarico_votes": 238}, {"precinct": "3202", "name": "Duncanville Library", "dem_total": 1066, "rep_total": 195, "lat": 32.652, "lon": -96.908, "pct_black": 0.55, "pct_white": 0.18, "pct_hispanic": 0.2, "pct_asian": 0.03, "crockett_share": 0.601, "talarico_share": 0.399, "crockett_votes": 640, "talarico_votes": 426}, {"precinct": "0012", "name": "Glenn Heights Family Center", "dem_total": 204, "rep_total": 21, "lat": 32.548, "lon": -96.856, "pct_black": 0.6, "pct_white": 0.12, "pct_hispanic": 0.22, "pct_asian": 0.02, "crockett_share": 0.624, "talarico_share": 0.376, "crockett_votes": 127, "talarico_votes": 77}, {"precinct": "3950", "name": "Hutchins City Hall", "dem_total": 64, "rep_total": 8, "lat": 32.65, "lon": -96.713, "pct_black": 0.5, "pct_white": 0.1, "pct_hispanic": 0.35, "pct_asian": 0.02, "crockett_share": 0.578, "talarico_share": 0.422, "crockett_votes": 37, "talarico_votes": 27}, {"precinct": "3940", "name": "Wilmer Community Center", "dem_total": 40, "rep_total": 11, "lat": 32.591, "lon": -96.685, "pct_black": 0.4, "pct_white": 0.15, "pct_hispanic": 0.38, "pct_asian": 0.02, "crockett_share": 0.536, "talarico_share": 0.464, "crockett_votes": 21, "talarico_votes": 19}, {"precinct": "1022", "name": "Oak Lawn Branch Library", "dem_total": 1147, "rep_total": 177, "lat": 32.806, "lon": -96.818, "pct_black": 0.1, "pct_white": 0.55, "pct_hispanic": 0.22, "pct_asian": 0.06, "crockett_share": 0.4, "talarico_share": 0.601, "crockett_votes": 458, "talarico_votes": 689}, {"precinct": "0050", "name": "Dallas County Records Bldg", "dem_total": 295, "rep_total": 30, "lat": 32.781, "lon": -96.798, "pct_black": 0.35, "pct_white": 0.15, "pct_hispanic": 0.42, "pct_asian": 0.04, "crockett_share": 0.509, "talarico_share": 0.491, "crockett_votes": 150, "talarico_votes": 145}, {"precinct": "1029", "name": "Dallas College-R Jan LeCroy Ctr", "dem_total": 242, "rep_total": 88, "lat": 32.818, "lon": -96.839, "pct_black": 0.2, "pct_white": 0.3, "pct_hispanic": 0.38, "pct_asian": 0.06, "crockett_share": 0.443, "talarico_share": 0.557, "crockett_votes": 107, "talarico_votes": 135}, {"precinct": "0004", "name": "Elections Training / Warehouse", "dem_total": 38, "rep_total": 16, "lat": 32.772, "lon": -96.868, "pct_black": 0.25, "pct_white": 0.2, "pct_hispanic": 0.45, "pct_asian": 0.05, "crockett_share": 0.465, "talarico_share": 0.535, "crockett_votes": 18, "talarico_votes": 20}, {"precinct": "0058", "name": "Envision Dallas", "dem_total": 23, "rep_total": 6, "lat": 32.812, "lon": -96.78, "pct_black": 0.2, "pct_white": 0.35, "pct_hispanic": 0.3, "pct_asian": 0.08, "crockett_share": 0.443, "talarico_share": 0.557, "crockett_votes": 10, "talarico_votes": 13}, {"precinct": "0061", "name": "Esperanza Comm Ctr at Dobie", "dem_total": 15, "rep_total": 6, "lat": 32.697, "lon": -96.87, "pct_black": 0.2, "pct_white": 0.08, "pct_hispanic": 0.65, "pct_asian": 0.03, "crockett_share": 0.443, "talarico_share": 0.557, "crockett_votes": 7, "talarico_votes": 8}, {"precinct": "1074", "name": "Samuell Grand Rec Center", "dem_total": 620, "rep_total": 103, "lat": 32.791, "lon": -96.726, "pct_black": 0.25, "pct_white": 0.2, "pct_hispanic": 0.45, "pct_asian": 0.05, "crockett_share": 0.465, "talarico_share": 0.535, "crockett_votes": 288, "talarico_votes": 332}, {"precinct": "1116", "name": "Harry Stone Rec Center", "dem_total": 270, "rep_total": 70, "lat": 32.809, "lon": -96.716, "pct_black": 0.2, "pct_white": 0.22, "pct_hispanic": 0.48, "pct_asian": 0.05, "crockett_share": 0.443, "talarico_share": 0.557, "crockett_votes": 119, "talarico_votes": 151}, {"precinct": "1052", "name": "Lochwood Branch Library", "dem_total": 669, "rep_total": 224, "lat": 32.836, "lon": -96.68, "pct_black": 0.15, "pct_white": 0.35, "pct_hispanic": 0.35, "pct_asian": 0.08, "crockett_share": 0.42, "talarico_share": 0.58, "crockett_votes": 281, "talarico_votes": 388}, {"precinct": "1301", "name": "Florence Recreation Center", "dem_total": 172, "rep_total": 105, "lat": 32.766, "lon": -96.7, "pct_black": 0.18, "pct_white": 0.25, "pct_hispanic": 0.48, "pct_asian": 0.04, "crockett_share": 0.434, "talarico_share": 0.566, "crockett_votes": 75, "talarico_votes": 97}, {"precinct": "1303", "name": "Dallas College-Eastfield", "dem_total": 166, "rep_total": 23, "lat": 32.756, "lon": -96.661, "pct_black": 0.3, "pct_white": 0.1, "pct_hispanic": 0.52, "pct_asian": 0.03, "crockett_share": 0.489, "talarico_share": 0.511, "crockett_votes": 81, "talarico_votes": 85}, {"precinct": "0046", "name": "St Paul's Church", "dem_total": 373, "rep_total": 126, "lat": 32.837, "lon": -96.765, "pct_black": 0.2, "pct_white": 0.3, "pct_hispanic": 0.35, "pct_asian": 0.08, "crockett_share": 0.443, "talarico_share": 0.557, "crockett_votes": 165, "talarico_votes": 208}, {"precinct": "0047", "name": "Hamilton Park UMC", "dem_total": 133, "rep_total": 28, "lat": 32.887, "lon": -96.753, "pct_black": 0.55, "pct_white": 0.15, "pct_hispanic": 0.18, "pct_asian": 0.08, "crockett_share": 0.596, "talarico_share": 0.404, "crockett_votes": 79, "talarico_votes": 54}, {"precinct": "2220", "name": "University Park UMC", "dem_total": 329, "rep_total": 505, "lat": 32.838, "lon": -96.798, "pct_black": 0.02, "pct_white": 0.78, "pct_hispanic": 0.08, "pct_asian": 0.06, "crockett_share": 0.362, "talarico_share": 0.638, "crockett_votes": 119, "talarico_votes": 210}, {"precinct": "2052", "name": "Fretz Park Library", "dem_total": 810, "rep_total": 497, "lat": 32.903, "lon": -96.766, "pct_black": 0.08, "pct_white": 0.45, "pct_hispanic": 0.18, "pct_asian": 0.22, "crockett_share": 0.374, "talarico_share": 0.625, "crockett_votes": 303, "talarico_votes": 507}, {"precinct": "2005", "name": "Marsh Lane Baptist Church", "dem_total": 597, "rep_total": 318, "lat": 32.89, "lon": -96.827, "pct_black": 0.1, "pct_white": 0.4, "pct_hispanic": 0.25, "pct_asian": 0.18, "crockett_share": 0.387, "talarico_share": 0.613, "crockett_votes": 231, "talarico_votes": 366}, {"precinct": "0038", "name": "Royal Lane Baptist Church", "dem_total": 457, "rep_total": 298, "lat": 32.883, "lon": -96.798, "pct_black": 0.12, "pct_white": 0.42, "pct_hispanic": 0.22, "pct_asian": 0.16, "crockett_share": 0.4, "talarico_share": 0.6, "crockett_votes": 183, "talarico_votes": 274}, {"precinct": "0030", "name": "Northway Christian Church", "dem_total": 278, "rep_total": 266, "lat": 32.877, "lon": -96.757, "pct_black": 0.08, "pct_white": 0.45, "pct_hispanic": 0.15, "pct_asian": 0.25, "crockett_share": 0.372, "talarico_share": 0.628, "crockett_votes": 103, "talarico_votes": 175}, {"precinct": "2060", "name": "Audelia Road Branch Library", "dem_total": 541, "rep_total": 296, "lat": 32.912, "lon": -96.725, "pct_black": 0.12, "pct_white": 0.3, "pct_hispanic": 0.25, "pct_asian": 0.25, "crockett_share": 0.391, "talarico_share": 0.609, "crockett_votes": 212, "talarico_votes": 329}, {"precinct": "0041", "name": "Makkah Masjid IDEA", "dem_total": 49, "rep_total": 14, "lat": 32.854, "lon": -96.78, "pct_black": 0.15, "pct_white": 0.3, "pct_hispanic": 0.25, "pct_asian": 0.22, "crockett_share": 0.408, "talarico_share": 0.593, "crockett_votes": 20, "talarico_votes": 29}, {"precinct": "0036", "name": "Addison Town Hall", "dem_total": 212, "rep_total": 137, "lat": 32.958, "lon": -96.83, "pct_black": 0.1, "pct_white": 0.4, "pct_hispanic": 0.25, "pct_asian": 0.18, "crockett_share": 0.387, "talarico_share": 0.613, "crockett_votes": 82, "talarico_votes": 130}, {"precinct": "2307", "name": "Dallas College-Brookhaven", "dem_total": 173, "rep_total": 40, "lat": 32.921, "lon": -96.783, "pct_black": 0.2, "pct_white": 0.25, "pct_hispanic": 0.35, "pct_asian": 0.12, "crockett_share": 0.44, "talarico_share": 0.56, "crockett_votes": 76, "talarico_votes": 97}, {"precinct": "2305", "name": "Farmers Branch Manske Library", "dem_total": 230, "rep_total": 148, "lat": 32.929, "lon": -96.875, "pct_black": 0.08, "pct_white": 0.32, "pct_hispanic": 0.4, "pct_asian": 0.12, "crockett_share": 0.386, "talarico_share": 0.614, "crockett_votes": 89, "talarico_votes": 141}, {"precinct": "0021", "name": "Islamic Assoc of North TX", "dem_total": 216, "rep_total": 67, "lat": 32.937, "lon": -96.734, "pct_black": 0.12, "pct_white": 0.28, "pct_hispanic": 0.22, "pct_asian": 0.3, "crockett_share": 0.386, "talarico_share": 0.614, "crockett_votes": 83, "talarico_votes": 133}, {"precinct": "0043", "name": "Ministerios Charisma", "dem_total": 336, "rep_total": 222, "lat": 32.932, "lon": -96.724, "pct_black": 0.1, "pct_white": 0.3, "pct_hispanic": 0.3, "pct_asian": 0.22, "crockett_share": 0.385, "talarico_share": 0.615, "crockett_votes": 129, "talarico_votes": 207}, {"precinct": "0022", "name": "Vietnamese Community Center", "dem_total": 95, "rep_total": 150, "lat": 32.854, "lon": -96.818, "pct_black": 0.05, "pct_white": 0.25, "pct_hispanic": 0.15, "pct_asian": 0.48, "crockett_share": 0.335, "talarico_share": 0.665, "crockett_votes": 32, "talarico_votes": 63}, {"precinct": "1708", "name": "Dallas College-Garland Center", "dem_total": 499, "rep_total": 391, "lat": 32.91, "lon": -96.625, "pct_black": 0.12, "pct_white": 0.35, "pct_hispanic": 0.35, "pct_asian": 0.12, "crockett_share": 0.401, "talarico_share": 0.599, "crockett_votes": 200, "talarico_votes": 299}, {"precinct": "0024", "name": "North Garland Branch Library", "dem_total": 370, "rep_total": 192, "lat": 32.946, "lon": -96.638, "pct_black": 0.12, "pct_white": 0.3, "pct_hispanic": 0.3, "pct_asian": 0.2, "crockett_share": 0.396, "talarico_share": 0.604, "crockett_votes": 147, "talarico_votes": 223}, {"precinct": "1723", "name": "South Garland Branch Library", "dem_total": 640, "rep_total": 316, "lat": 32.865, "lon": -96.617, "pct_black": 0.2, "pct_white": 0.28, "pct_hispanic": 0.35, "pct_asian": 0.1, "crockett_share": 0.441, "talarico_share": 0.559, "crockett_votes": 282, "talarico_votes": 358}, {"precinct": "2927", "name": "Rowlett Community Centre", "dem_total": 470, "rep_total": 325, "lat": 32.905, "lon": -96.56, "pct_black": 0.12, "pct_white": 0.48, "pct_hispanic": 0.22, "pct_asian": 0.1, "crockett_share": 0.406, "talarico_share": 0.594, "crockett_votes": 191, "talarico_votes": 279}, {"precinct": "2941", "name": "Sachse City Hall", "dem_total": 170, "rep_total": 188, "lat": 32.978, "lon": -96.595, "pct_black": 0.1, "pct_white": 0.5, "pct_hispanic": 0.18, "pct_asian": 0.15, "crockett_share": 0.391, "talarico_share": 0.609, "crockett_votes": 66, "talarico_votes": 104}, {"precinct": "0049", "name": "Dallas County Mesquite Gov Ctr", "dem_total": 688, "rep_total": 293, "lat": 32.75, "lon": -96.6, "pct_black": 0.22, "pct_white": 0.25, "pct_hispanic": 0.4, "pct_asian": 0.06, "crockett_share": 0.454, "talarico_share": 0.546, "crockett_votes": 312, "talarico_votes": 376}, {"precinct": "3500", "name": "Sunnyvale Town Hall", "dem_total": 89, "rep_total": 92, "lat": 32.797, "lon": -96.561, "pct_black": 0.08, "pct_white": 0.6, "pct_hispanic": 0.2, "pct_asian": 0.05, "crockett_share": 0.392, "talarico_share": 0.608, "crockett_votes": 35, "talarico_votes": 54}, {"precinct": "3921", "name": "Seagoville City Hall", "dem_total": 107, "rep_total": 64, "lat": 32.639, "lon": -96.536, "pct_black": 0.15, "pct_white": 0.35, "pct_hispanic": 0.42, "pct_asian": 0.03, "crockett_share": 0.422, "talarico_share": 0.578, "crockett_votes": 45, "talarico_votes": 62}, {"precinct": "4607", "name": "Irving City Hall", "dem_total": 449, "rep_total": 363, "lat": 32.814, "lon": -96.949, "pct_black": 0.12, "pct_white": 0.25, "pct_hispanic": 0.35, "pct_asian": 0.2, "crockett_share": 0.396, "talarico_share": 0.604, "crockett_votes": 178, "talarico_votes": 271}, {"precinct": "4642", "name": "Irving Arts Center", "dem_total": 142, "rep_total": 111, "lat": 32.853, "lon": -96.946, "pct_black": 0.1, "pct_white": 0.28, "pct_hispanic": 0.3, "pct_asian": 0.24, "crockett_share": 0.383, "talarico_share": 0.617, "crockett_votes": 54, "talarico_votes": 88}, {"precinct": "0057", "name": "Islamic Center of Irving", "dem_total": 30, "rep_total": 2, "lat": 32.833, "lon": -96.985, "pct_black": 0.15, "pct_white": 0.15, "pct_hispanic": 0.4, "pct_asian": 0.22, "crockett_share": 0.407, "talarico_share": 0.593, "crockett_votes": 12, "talarico_votes": 18}, {"precinct": "4633", "name": "Dallas College-North Lake", "dem_total": 158, "rep_total": 43, "lat": 32.857, "lon": -97.037, "pct_black": 0.15, "pct_white": 0.2, "pct_hispanic": 0.45, "pct_asian": 0.12, "crockett_share": 0.417, "talarico_share": 0.583, "crockett_votes": 66, "talarico_votes": 92}, {"precinct": "4502", "name": "Betty Warmack Library", "dem_total": 497, "rep_total": 148, "lat": 32.696, "lon": -96.999, "pct_black": 0.3, "pct_white": 0.15, "pct_hispanic": 0.42, "pct_asian": 0.06, "crockett_share": 0.489, "talarico_share": 0.51, "crockett_votes": 243, "talarico_votes": 254}, {"precinct": "4528", "name": "Our Redeemer Lutheran-GP", "dem_total": 179, "rep_total": 74, "lat": 32.708, "lon": -96.973, "pct_black": 0.22, "pct_white": 0.18, "pct_hispanic": 0.48, "pct_asian": 0.05, "crockett_share": 0.455, "talarico_share": 0.545, "crockett_votes": 81, "talarico_votes": 98}, {"precinct": "4516", "name": "Crosswinds High School", "dem_total": 232, "rep_total": 147, "lat": 32.748, "lon": -96.967, "pct_black": 0.18, "pct_white": 0.22, "pct_hispanic": 0.42, "pct_asian": 0.1, "crockett_share": 0.433, "talarico_share": 0.567, "crockett_votes": 100, "talarico_votes": 132}, {"precinct": "4629", "name": "Bear Creek Community Church", "dem_total": 109, "rep_total": 30, "lat": 32.771, "lon": -97.03, "pct_black": 0.2, "pct_white": 0.15, "pct_hispanic": 0.52, "pct_asian": 0.06, "crockett_share": 0.445, "talarico_share": 0.555, "crockett_votes": 48, "talarico_votes": 61}, {"precinct": "2805", "name": "Coppell Town Center", "dem_total": 367, "rep_total": 283, "lat": 32.955, "lon": -97.015, "pct_black": 0.06, "pct_white": 0.42, "pct_hispanic": 0.12, "pct_asian": 0.32, "crockett_share": 0.357, "talarico_share": 0.643, "crockett_votes": 131, "talarico_votes": 236}, {"precinct": "2604", "name": "Valley Ranch Library", "dem_total": 396, "rep_total": 157, "lat": 32.918, "lon": -96.968, "pct_black": 0.15, "pct_white": 0.22, "pct_hispanic": 0.28, "pct_asian": 0.28, "crockett_share": 0.4, "talarico_share": 0.6, "crockett_votes": 158, "talarico_votes": 238}, {"precinct": "2407", "name": "Josey Ranch Lake Library", "dem_total": 427, "rep_total": 248, "lat": 32.965, "lon": -96.893, "pct_black": 0.08, "pct_white": 0.38, "pct_hispanic": 0.2, "pct_asian": 0.26, "crockett_share": 0.372, "talarico_share": 0.628, "crockett_votes": 159, "talarico_votes": 268}, {"precinct": "0042", "name": "Madinah Masjid of Carrollton", "dem_total": 18, "rep_total": 2, "lat": 32.973, "lon": -96.895, "pct_black": 0.08, "pct_white": 0.3, "pct_hispanic": 0.22, "pct_asian": 0.32, "crockett_share": 0.366, "talarico_share": 0.634, "crockett_votes": 7, "talarico_votes": 11}, {"precinct": "0063", "name": "Pioneer Event Center", "dem_total": 35, "rep_total": 24, "lat": 32.899, "lon": -96.952, "pct_black": 0.1, "pct_white": 0.3, "pct_hispanic": 0.32, "pct_asian": 0.2, "crockett_share": 0.387, "talarico_share": 0.613, "crockett_votes": 14, "talarico_votes": 21}, {"precinct": "3072", "name": "Dallas College-Cedar Valley", "dem_total": 95, "rep_total": 14, "lat": 32.589, "lon": -96.867, "pct_black": 0.55, "pct_white": 0.12, "pct_hispanic": 0.28, "pct_asian": 0.02, "crockett_share": 0.6, "talarico_share": 0.4, "crockett_votes": 57, "talarico_votes": 38}];

var map = L.map('map',{zoomControl:true,attributionControl:false}).setView([32.78,-96.80],10.3);
L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',{
  attribution:'© OSM © CARTO',maxZoom:18
}).addTo(map);

var maxD = 0;
for(var i=0;i<DATA.length;i++){if(DATA[i].dem_total>maxD)maxD=DATA[i].dem_total;}
var markers = {};

for(var i=0;i<DATA.length;i++){
  var d = DATA[i];
  var cs = d.crockett_share;
  var radius = 5 + (d.dem_total/maxD)*20;
  var isCrockett = cs >= 0.5;
  var fillColor = isCrockett ? '#d4712e' : '#239e76';
  var strokeColor = isCrockett ? '#a85520' : '#1a7a5c';
  var intensity = Math.abs(cs - 0.5) * 2;

  var marker = L.circleMarker([d.lat, d.lon], {
    radius: radius, fillColor: fillColor, fillOpacity: 0.3 + 0.5 * intensity,
    color: strokeColor, weight: 1.5
  }).addTo(map);

  var lead = d.crockett_votes - d.talarico_votes;
  var ttHtml = '<div class="tt-name">' + d.name + '</div>' +
    '<div class="tt-pct">Precinct ' + d.precinct + '</div>' +
    '<div class="tt-row"><span style="color:#c45a20;font-weight:600">Crockett</span><span style="font-weight:700">' + d.crockett_votes.toLocaleString() + ' (' + Math.round(d.crockett_share*100) + '%)</span></div>' +
    '<div class="tt-row"><span style="color:#1a7a5c;font-weight:600">Talarico</span><span style="font-weight:700">' + d.talarico_votes.toLocaleString() + ' (' + Math.round(d.talarico_share*100) + '%)</span></div>' +
    '<div class="tt-bar"><div class="tt-bar-c" style="width:' + (d.crockett_share*100) + '%"></div><div class="tt-bar-t" style="width:' + (d.talarico_share*100) + '%"></div></div>' +
    '<div class="tt-demo">Black ' + Math.round(d.pct_black*100) + '% · White ' + Math.round(d.pct_white*100) + '% · Hisp ' + Math.round(d.pct_hispanic*100) + '% · Asian ' + Math.round(d.pct_asian*100) + '%</div>';

  marker.bindTooltip(ttHtml, {className:'custom-tooltip',direction:'top',offset:[0,-8]});
  markers[d.precinct] = {marker: marker, data: d};
}

var leg = L.control({position:'bottomleft'});
leg.onAdd = function(){
  var div = L.DomUtil.create('div','map-legend');
  div.innerHTML = '<h4>Projected leader</h4>' +
    '<div class="lg-row"><div class="lg-circ" style="width:12px;height:12px;background:#d4712e"></div> Crockett</div>' +
    '<div class="lg-row"><div class="lg-circ" style="width:12px;height:12px;background:#239e76"></div> Talarico</div>' +
    '<div style="margin-top:6px"><h4>Bubble = Dem votes</h4></div>';
  return div;
};
leg.addTo(map);

var tb = document.getElementById('tb');
var sCol = 'margin', sDir = -1, activeRow = null;

function render(filter){
  filter = filter || '';
  var fl = filter.toLowerCase();
  var rows = [];
  for(var i=0;i<DATA.length;i++){
    var d = DATA[i];
    if(d.name.toLowerCase().indexOf(fl)!==-1 || d.precinct.indexOf(fl)!==-1) rows.push(d);
  }
  rows.sort(function(a,b){
    var v;
    if(sCol==='name') v = a.name.localeCompare(b.name);
    else if(sCol==='crockett') v = a.crockett_votes - b.crockett_votes;
    else if(sCol==='talarico') v = a.talarico_votes - b.talarico_votes;
    else if(sCol==='margin') v = (a.crockett_votes-a.talarico_votes) - (b.crockett_votes-b.talarico_votes);
    else if(sCol==='bar') v = a.crockett_share - b.crockett_share;
    else v = 0;
    return sDir * v;
  });

  var html = '';
  for(var i=0;i<rows.length;i++){
    var d = rows[i];
    var lead = d.crockett_votes - d.talarico_votes;
    var lStr = lead >= 0
      ? '<span class="lead" style="color:#c45a20">C+' + lead + '</span>'
      : '<span class="lead" style="color:#1a7a5c">T+' + Math.abs(lead) + '</span>';
    html += '<tr data-p="' + d.precinct + '">' +
      '<td class="loc-name" title="' + d.name + '">' + d.name + '</td>' +
      '<td class="num c-num">' + d.crockett_votes.toLocaleString() + '</td>' +
      '<td class="num t-num">' + d.talarico_votes.toLocaleString() + '</td>' +
      '<td>' + lStr + '</td>' +
      '<td class="mini-bar"><div class="mb-wrap"><div class="mb-c" style="width:' + (d.crockett_share*100) + '%"></div><div class="mb-t" style="width:' + (d.talarico_share*100) + '%"></div></div></td>' +
      '</tr>';
  }
  tb.innerHTML = html;

  var trs = tb.querySelectorAll('tr');
  for(var j=0;j<trs.length;j++){
    (function(tr){
      tr.addEventListener('click', function(){
        var p = tr.getAttribute('data-p');
        var m = markers[p];
        if(m){
          map.flyTo([m.data.lat, m.data.lon], 14, {duration: 1});
          m.marker.openTooltip();
          if(activeRow) activeRow.classList.remove('active');
          tr.classList.add('active');
          activeRow = tr;
        }
      });
    })(trs[j]);
  }
}

var ths = document.querySelectorAll('thead th');
for(var i=0;i<ths.length;i++){
  (function(th){
    th.addEventListener('click', function(){
      var c = th.getAttribute('data-col');
      if(sCol===c) sDir *= -1; else { sCol = c; sDir = -1; }
      for(var k=0;k<ths.length;k++) ths[k].className = '';
      th.className = sDir===1 ? 'sa' : 'sd';
      render(document.getElementById('sbox').value);
    });
  })(ths[i]);
}
document.getElementById('sbox').addEventListener('input', function(e){render(e.target.value);});
render('');
document.querySelector('th[data-col="margin"]').className = 'sd';
</script>
</body>
</html>